# ChatServer - сервер для чата
Бэкенд для приложения `Chat`.  
## Стек технологий
**Фронтенд:**  
+ **Console**  
Используется для вывода информации о работе сервера.
 
**Бэкенд:**  
+ **QT/С++**  
Используется для описания основных функций передачи данных клиенту.
+ **QTCPSockets**  
Используется для связи приложения с клиентами.
+ **PostgreSQL**
Используется для хранения данных пользователей.
  
**Инструменты разработки:**
+ **Git**
+ **QTCreator**
+ **Qmake**

## Требования приложения
+ Windows 7/10
+ Установленная база данных PostgreSQL
+ VPN-соединение между сервером и клиентом

# Архитектура
![screenshots 1](https://github.com/EDIT89/ChatServer/blob/main/.github/ServerArchitecture.png)  

Приложение дает возможность клиентам обмениваться информацией между собой.
Обеспечивает передачу сообщений конкретному пользователю.

## Структура базы данных
В базе данных должны быть созданы следующие таблицы:  
+ **Таблица со списоком зарегестрированных пользователей**
+ **Таблица со списком диалогов**
+ **Таблица со списком участников диалога**
+ **Таблица со списком сообщений**

**Таблица 1** - Таблица со списком зарегестрированных пользователей  
![screenshots 2](https://github.com/EDIT89/ChatServer/blob/main/.github/TableUsers.png)  
В данной таблице хранятся: ID пользователя как первичный ключ, логин пользователя, хэш пароля.  

**Таблица 2** - Таблица со списком диалогов  
![screenshots 3](https://github.com/EDIT89/ChatServer/blob/main/.github/TableDialogs.png)  
В таблице со списком диалогов будут храниться данные диалогов чата.  
`dialod_id` - порядковый номер диалога  
`user_id` - id пользователя создавшего диалог  

**Таблица 3** - Таблица со списком участников диалога  
![screenshots 4](https://github.com/EDIT89/ChatServer/blob/main/.github/TableDialogMembers.png)  
В таблице списка участников диалога будет храниться связь между диалогом и пользователями,
которые участвуют в беседе чата.  
`dialod_id` - id диалога  
`user_id` - id пользователя, который учавствует в переписке  

**Таблица 4** - Таблица со списком сообщений  
![screenshots 5](https://github.com/EDIT89/ChatServer/blob/main/.github/TableConversation.png)  
В таблице со списком сообщений будут храниться сообщения, которые пользователи пишут друг другу.  
`id` - порядковый id сообщения  
`dialod_id` - id диалога  
`user_id` - id пользователя, который добавил сообщение  
`message` - содержимое сообщения  
`date_create` - дата добавления сообщения  

## Директории проекта
Эта секция коротко описывает основные директории в структуре проекта.

### `src/Server.h; src/Server.cpp`
Здесь находятся функции которые организуют правильную доставку сообщений пользователям.

### `src/DataBaseWorker.h; src/DataBaseWorker.cpp`

В этих директориях находится файлы с описанием запросов к базе данных.

### `.github`

Здесь расположены ресурсы которые используются для формирования файла README.md.


[![GitHub](https://img.shields.io/badge/-Мой_GitHub-333?style=for-the-badge&logo=GitHub&logoColor=fff)](https://github.com/EDIT89)
 
